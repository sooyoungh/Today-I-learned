# ìƒì†ë³´ë‹¤ëŠ” ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ì

**ëª©ì°¨**

1. [ìƒì†ì˜ ë¬¸ì œì ?](prefer\_composition\_than\_inheritance.md#ìƒì†ì˜-ë¬¸ì œì )
2. [ì»´í¬ì§€ì…˜ì„ ì“°ì](prefer\_composition\_than\_inheritance.md#ì»´í¬ì§€ì…˜ì„-ì“°ì)
3. [ìƒì†ê³¼ ì»´í¬ì§€ì…˜](prefer\_composition\_than\_inheritance.md#ìƒì†ê³¼-ì»´í¬ì§€ì…˜)
4. [ì •ë¦¬í•˜ë©´](prefer\_composition\_than\_inheritance.md#ì •ë¦¬í•˜ë©´)

ìƒì†ë³´ë‹¤ ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì€ ì´ìœ ë¥¼ ì•Œì•„ë³´ì.

ìš°ì„  ìƒì†ê³¼ ì»´í¬ì§€ì…˜ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

![image](https://user-images.githubusercontent.com/77563814/185729802-9a1529e8-ec07-4700-a673-6360d87ca4ed.png)

* ìƒì† : ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìì‹í´ë˜ìŠ¤ê°€ ì¬ì‚¬ìš©+í™•ì¥í•˜ëŠ” ê²ƒ (IS-A ê´€ê³„)
* ì»´í¬ì§€ì…˜ : ê¸°ì¡´ í´ë˜ìŠ¤ê°€ ìƒˆë¡œìš´ í´ë˜ìŠ¤ì˜ êµ¬ì„±ìš”ì†Œê°€ ë˜ëŠ” ê²ƒ (HAS-A ê´€ê³„)

ìƒì†ì€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œë¥¼ ì¬ì‚¬ìš©+í™•ì¥í•  ìˆ˜ ìˆë‹¤. ì»´í¬ì§€ì…˜ì€ ì½”ë“œ ì¬ì‚¬ìš©ë§Œ í•˜ê³ , ë¶€ëª¨ ë©”ì†Œë“œë¥¼ í™•ì¥í•  ìˆ˜ëŠ” ì—†ë‹¤.

ìƒì† ê´€ê³„ì—ì„œëŠ” ì—¬ëŸ¬ ë¬¸ì œê°€ ë°œìƒí•˜ê¸°ë„ í•œë‹¤.

## ìƒì†ì˜ ë¬¸ì œì ?

ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì´ ìˆì„ ìˆ˜ ìˆë‹¤.

```java
public class Engine {
    protected int engineCapacity;

    public Engine(int engineCapacity) {
        this.engineCapacity = engineCapacity;
    }

    public startEngine() {
        // engineCapacity ì‚¬ìš©í•´ì„œ ê¸°ëŠ¥ ì²˜ë¦¬
    }
}

public class Car extends Engine {
    ...

    public Car(int engineCapacity, ...) {
        super(engineCapacity);
        // ìƒìœ„ Engine í´ë˜ìŠ¤ì˜ ë³€ìˆ˜/ë©”ì†Œë“œ ì‚¬ìš©í•´ì„œ ê¸°ëŠ¥ ì²˜ë¦¬
    }

}
```

ì´ ê²½ìš° í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìƒìœ„ í´ë˜ìŠ¤ì— ê°•í•˜ê²Œ ê²°í•©, ì˜ì¡´í•˜ê²Œ ëœë‹¤. ì¦‰, ìº¡ìŠí™”ë¥¼ ê¹¨ëœ¨ë¦°ë‹¤(ìƒìœ„ í´ë˜ìŠ¤ì˜ êµ¬í˜„ì´ í•˜ìœ„ í´ë˜ìŠ¤ì— ë…¸ì¶œë˜ê³  ê°•í•˜ê²Œ ê²°í•©/ì˜ì¡´). ì´ êµ¬ì¡°ëŠ” ëª‡ ê°€ì§€ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.

* ë§Œì•½ ë¶€ëª¨í´ë˜ìŠ¤ì—ì„œ í•„ë“œì˜ íƒ€ì…ë¥¼ ë°”ê¾¸ë©´, ìì‹ í´ë˜ìŠ¤ë“¤ë„ í•´ë‹¹ í•„ë“œ íƒ€ì…ì„ ì¼ì¼ì´ ëª¨ë‘ ìˆ˜ì •í•´ì£¼ì–´ì•¼ í•œë‹¤. ì´ëŸ°ì‹ìœ¼ë¡œ ë³€ê²½ì— ìœ ì—°í•˜ì§€ ëª»í•˜ë‹¤.
* ë¶€ëª¨ í´ë˜ìŠ¤ ë©”ì†Œë“œ ì‚¬ì´ì˜ ë¡œì§ì„ ëª¨ë¥´ê³  ìì‹ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©í•œë‹¤ë©´, ìì‹ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œê°€ ì›í•˜ì§€ ì•Šê²Œ ì˜ëª» ë™ì‘í•  ìˆ˜ ìˆë‹¤. [ì°¸ê³  ë§í¬](https://happy-playboy.tistory.com/entry/Item-18-%EC%83%81%EC%86%8D%EB%B3%B4%EB%8B%A4%EB%8A%94-%EC%BB%B4%ED%8F%AC%EC%A7%80%EC%85%98%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC)

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ì.

## ì»´í¬ì§€ì…˜ì„ ì“°ì

```
ğŸŒŸ ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ private ì¸ìŠ¤í„´ìŠ¤ë¡œ ë§Œë“¤ì–´ì„œ ìƒˆë¡œìš´ í´ë˜ìŠ¤ì—ì„œ ì°¸ì¡°í•˜ëŠ” ë°©ì‹.
    ì¦‰, ê¸°ì¡´ í´ë˜ìŠ¤ê°€ ìƒˆë¡œìš´ í´ë˜ìŠ¤ì˜ êµ¬ì„±ìš”ì†Œë¡œ ì“°ì¸ë‹¤
```

Carí´ë˜ìŠ¤ì— Engine í´ë˜ìŠ¤ê°€ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë“¤ì–´ê°€ìˆë‹¤.

```java
public class Car {
    private Engine engine; // ì»´í¬ì§€ì…˜
}
```

Engine í´ë˜ìŠ¤ì˜ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ë ¤ë©´, engine ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤. ê¸°ì¡´ í´ë˜ìŠ¤(Engine í´ë˜ìŠ¤)ì˜ ì½”ë“œê°€ ë°”ë€Œë”ë¼ë„ ìƒˆë¡œìš´ í´ë˜ìŠ¤(Car)ì˜ ì˜í–¥ì´ ì ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Engine í´ë˜ìŠ¤ì˜ ì–´ë–¤ í•„ë“œ íƒ€ì…ì´ ë³€ê²½ë˜ë”ë¼ë„, Car í´ë˜ìŠ¤ì—ì„œëŠ” ì½”ë“œë¥¼ ë°”ê¿€ í•„ìš”ì—†ë‹¤.

ì¦‰, í´ë˜ìŠ¤ ê°„ ì˜ì¡´ ê´€ê³„ê°€ ì—†ìœ¼ë‹ˆ ìƒìœ„ í´ë˜ìŠ¤ì˜ ì½”ë“œê°€ ë°”ë€Œì–´ì„œ í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì½”ë“œë¥¼ ë‹¤ì‹œ ë³€ê²½í•´ì£¼ì–´ì•¼ í•˜ëŠ” ë°©ì‹ì´ ì•„ë‹ˆë‹¤. ë©”ì†Œë“œ í˜¸ì¶œì„ í†µí•´ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ë³€ê²½ì— ìœ ì—°í•˜ê³  ì•ˆì „í•˜ë‹¤.

ì´ì²˜ëŸ¼ ì»´í¬ì§€ì…˜ì€ ë©”ì†Œë“œë¥¼ ì¬ì‚¬ìš©ì€ í•  ìˆ˜ ìˆìœ¼ë‚˜, ì˜¤ë²„ë¼ì´ë”©(í™•ì¥)í•  ìˆ˜ëŠ” ì—†ë‹¤. ë”°ë¼ì„œ í™•ì¥ ê´€ë ¨í•˜ì—¬ ë°œìƒí•˜ëŠ” ë¬¸ì œì—ì„œ ììœ ë¡­ë‹¤.

The composition also provides code reusability but the difference here is we do not extend the class for this. [ì°¸ê³  ë§í¬](https://www.geeksforgeeks.org/difference-between-inheritance-and-composition-in-java/?ref=gcse)

## ìƒì†ê³¼ ì»´í¬ì§€ì…˜

ìƒì†ê³¼ ì»´í¬ì§€ì…˜ì„ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

![image](https://user-images.githubusercontent.com/77563814/185729831-cafd989e-c1b1-4651-bd80-d5701716d243.png)

* Engine ê¸°ëŠ¥ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ Carì€ ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í–ˆë‹¤.
* TeslaëŠ” Carì˜ ê¸°ëŠ¥ì„ ì¬ì‚¬ìš© + í™•ì¥í•˜ê¸° ìœ„í•´ì„œ ìƒì† ë°›ì•˜ë‹¤.
* **is-a ì™€ has-a ê´€ê³„ ë¹„êµ**
  * **"is-a"** relationship (ì¬ì‚¬ìš©+í™•ì¥)
    * a senior citizen is a citizen
    * a Manager is an Employee
  * â€œ**has-a"** relationship (ê¸°ëŠ¥ë§Œ ë°›ê² ë‹¤)
    * a car has an engine, a transmission, gas tank
    * a Manager has a PayrollID

## ì •ë¦¬í•˜ë©´

* ìƒì†ì€ ì½”ë“œ ì¬ì‚¬ìš©+í™•ì¥í•  ìˆ˜ ìˆìœ¼ë‚˜, ìƒì†ê´€ê³„ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ í™•ì‹¤í•œ is-a ê´€ê³„ì¼ ë•Œë§Œ ìƒì†ì„ ì‚¬ìš©í•˜ì.
* ë‹¨ìˆœ ê¸°ëŠ¥ì„ ì¬ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´(has-a ê´€ê³„), ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ì. ì»´í¬ì§€ì…˜ì€ ì½”ë“œ ì¬ì‚¬ìš©ë§Œ í•˜ê³  í™•ì¥í•  ìˆ˜ ì—†ì–´ ì—¬ëŸ¬ ë¬¸ì œì—ì„œ ììœ ë¡­ë‹¤.

**ìƒì† ê´€ê³„ëŠ” í•„ìš”í•  ë•Œë§Œ ì‚¬ìš©í•˜ì â†’ ì¸í„°í˜ì´ìŠ¤ë‚˜ ì»´í¬ì§€ì…˜ì„ ì“°ì**

> ê°œë°œ ì„¤ê³„ ë‹¨ê³„ì—ì„œ ë¶€ëª¨ë¥¼ _ì¶”ìƒí´ë˜ìŠ¤ í˜¹ì€ ì¸í„°í˜ì´ìŠ¤_ë¡œ ë§Œë“¤ì§€ ë‘˜ ì¤‘ ê³ ë¯¼í•  ë•ŒëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì. ë‹¤ì¤‘ ìƒì†ì´ ê°€ëŠ¥í•˜ê³  ìƒì† ê´€ê³„ì˜ ë¬¸ì œê°€ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ë§Œì•½ ì´ë¯¸ ë¶€ëª¨ê°€ (ì¶”ìƒ)í´ë˜ìŠ¤ë¼ë©´ ìì‹ í´ë˜ìŠ¤ëŠ” ìƒì† ê´€ê³„ë³´ë‹¤ëŠ” ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ì.
>
> í™•ì‹¤í•œ is-a ê´€ê³„ì´ê³  **ì½”ë“œì˜ ì¬ì‚¬ìš©+í™•ì¥**ì´ í•„ìš”í•œ ê²½ìš°ì¼ ë•Œë§Œ ìƒì†ì„ ì‚¬ìš©í•˜ì. ìƒì†ê´€ê³„ëŠ” ë¶€ëª¨ê°€ ë³€ê²½ë  ë•Œ ìì‹ë“¤ë„ ë‹¤ ë³€ê²½ì´ ë˜ì–´ì•¼ í•˜ëŠ” ìƒí™©ì¼ ë•Œ ì‚¬ìš©í•˜ì. ì•„ë‹ˆë¼ë©´ ì¸í„°í˜ì´ìŠ¤ë‚˜ ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ìâ•

**Reference**

* [https://www.softwaretestinghelp.com/composition-in-java/](https://www.softwaretestinghelp.com/composition-in-java/)
* [https://tecoble.techcourse.co.kr/post/2020-05-18-inheritance-vs-composition/](https://tecoble.techcourse.co.kr/post/2020-05-18-inheritance-vs-composition/)
* [https://www.geeksforgeeks.org/difference-between-inheritance-and-composition-in-java/?ref=gcse](https://www.geeksforgeeks.org/difference-between-inheritance-and-composition-in-java/?ref=gcse)
* ì±… <ì´í™í‹°ë¸Œ ìë°”> ì•„ì´í…œ 18 ìƒì†ë³´ë‹¤ëŠ” ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ë¼
* [https://dev.to/romansery/why-you-should-favor-composition-over-inheritance-57m6](https://dev.to/romansery/why-you-should-favor-composition-over-inheritance-57m6)

[ìœ„ë¡œê°€ê¸°â¬†](prefer\_composition\_than\_inheritance.md#ìƒì†ë³´ë‹¤ëŠ”-ì»´í¬ì§€ì…˜ì„-ì‚¬ìš©í•˜ì)
