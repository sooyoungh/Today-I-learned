# java.time íŒ¨í‚¤ì§€ ì‚´í´ë³´ê¸°

**ëª©ì°¨**
1. [java.time íŒ¨í‚¤ì§€](#javatime-íŒ¨í‚¤ì§€)
2. [LocalDateTime, OffsetDateTime, ZonedDateTime](#localdatetime-offsetdatetime-zoneddatetime)
3. [LocalDateTime](#localdatetime)
4. [OffsetDateTime](#offsetdatetime)
5. [Instant](#instant)

> ì•ì„œ **java.util** íŒ¨í‚¤ì§€ì˜ Date, Calendarì˜ ë¬¸ì œì ì„ ë³´ì•˜ë‹¤. í˜„ì¬ëŠ” java.timeë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œê°„/ë‚ ì§œë¥¼ í‘œí˜„í•œë‹¤. ê°ê°ì˜ ì‚¬ìš©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.
>

##  java.time íŒ¨í‚¤ì§€

Dateì™€ Calendar í´ë˜ìŠ¤ë“¤ì˜ ë‹¨ì ì„ ê°œì„ í•˜ì—¬ java.time íŒ¨í‚¤ì§€ê°€ ë“±ì¥í•˜ì˜€ë‹¤. ê°œì„ ëœì ì„ ì•Œì•„ë³´ì.

1. **ë¶ˆë³€(Immutable)ê°ì²´ì´ë‹¤.**
    
    ë¶ˆë³€ê°ì²´ì´ê¸° ë•Œë¬¸ì— ê¸°ì¡´ì˜ ê°ì²´ë¥¼ ë³€ê²½í•˜ë©´, ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤. ì´ì „ê³¼ ë‹¤ë¥´ê²Œ ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ì•ˆì „í•˜ë‹¤. ë¶ˆë³€ê°ì²´ê°€ ì•„ë‹ˆë¼ë©´, ë™ì‹œì— ì—¬ëŸ¬ ìŠ¤ë ˆë“œì—ì„œ ì ‘ê·¼í•˜ì—¬ ê°’ì„ ë³€ê²½í•˜ì—¬ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì ì—ì„œ ì•ˆì „í•˜ë‹¤.(Thread-safe)
    
2. **êµ­ì œí™”ì— ì•Œë§ë‹¤.** â†’ Timezone(êµ­ê°€ë§ˆë‹¤ì˜ ì‹œê°„ëŒ€)ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŒ
    1. Timezoneì„ ê³ ë ¤í•˜ì§€ ì•Šì„ ê²½ìš° (LocalDateTime)
        - ì–´ë–¤ ì§€ì—­/êµ­ê°€ì´ë˜ ìƒê´€ì—†ì´ í‘œì‹œë˜ëŠ” ì‹œê°„ì´ ê°™ë‹¤.
        - ex) ìƒë…„ì›”ì¼
    2. Timezoneì„ ê³ ë ¤í•˜ëŠ” ê²½ìš° (OffsetDateTime, ZonedDateTime)
        - Timezoneì„ ê³ ë ¤í•˜ì—¬ í‘œì‹œë˜ëŠ” ì‹œê°„ì´ ë‹¬ë¼ì§„ë‹¤.
        - ex) ì˜¨ë¼ì¸ ë¼ì´ë¸Œ ì½˜ì„œíŠ¸, íšŒì˜ ì‹œê°„

> **Timezoneì´ë€?** 
> 
>        êµ­ê°€ë§ˆë‹¤ì˜ ì‹œê°„ì„ ëœ»í•œë‹¤. (ê·¸ë¦¬ë‹ˆì¹˜ ì²œë¬¸ëŒ€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ +, - ë¡œ í‘œê¸°)
>        KST = UTC+09:00
>        í•œêµ­ì€ ê·¸ë¦¬ë‹ˆì¹˜ ì²œë¬¸ëŒ€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë™ê²½ 135Â°ì´ë‹¤. ê³„ì‚°ë²•ì— ë”°ë¼ UTCì— 9ì‹œê°„(15Â° = 1ì‹œê°„)ì„ ë”í•˜ë©´ í•œêµ­ ì‹œê°„ì´ë‹¤. 
>        ì°¸ê³ ë¡œ GMT(ê·¸ë¦¬ë‹ˆì¹˜ ì²œë¬¸ëŒ€ ê¸°ì¤€)ì™€ UTCëŠ” ë¹„ìŠ·í•˜ë‹¤. UTCê°€ ì˜¤ì°¨ê°€ ë” ì ìœ¼ë‚˜, ê±°ì˜ ë¹„ìŠ·í•˜ì—¬ í˜¼ìš©í•˜ì—¬ ì‚¬ìš©í•œë‹¤.
> 

ë¿ë§Œ ì•„ë‹ˆë¼ ê°’ì„ ë°˜í™˜í•˜ëŠ” ë°©ì‹ì´ë‚˜ ìš”ì¼ ì¸ë±ìŠ¤ ë°©ì‹ë„ ê°œì„ ë˜ì–´ ì§ê´€ì ì´ê³  ê°œë°œìì—ê²Œ í˜¼ë™ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

## LocalDateTime, OffsetDateTime, ZonedDateTime



![image](https://user-images.githubusercontent.com/77563814/187043908-6ab91743-4c16-456e-b7a1-7b380f502219.png)

ê°ê°ì„ êµ¬ë¶„í•˜ë©´ ê·¸ë¦¼ê³¼ ê°™ë‹¤. TëŠ” Dateì™€ Timeì„ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ë¬¸ìì´ë‹¤. ZoneOffset, ZoneIdëŠ” ì§€ì—­ê³¼ ê´€ë ¨ëœ ì •ë³´ì´ë‹¤.

> **ZoneOffset**ì´ë€
> 
>       UTCì™€ í˜„ì§€ ì‹œê°„ê³¼ì˜ ì°¨ì´ì´ë‹¤. í•œêµ­ì˜ ê²½ìš°Â `UTC+09:00`Â ì—ì„œÂ `+09:00` ì„ ì˜ë¯¸í•œë‹¤.
> 
> **ZonedIdì´ë€**
> 
>       íƒ€ì„ì¡´ì„ êµ¬ë¶„í•˜ëŠ” ë¬¸ìì—´ ì½”ë“œì´ë‹¤. ë‚˜ë¼/ì§€ì—­ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. 
>       `UTC+09:00` ì¸ ë‚˜ë¼/ì§€ì—­ì´ í•˜ë‚˜ê°€ ì•„ë‹ˆë‹¤. ì¼ë³¸-ì˜¤ì‚¬ì¹´/ë„ì¿„, í•œêµ­-ì„œìš¸ ë“±ì´ ìˆë‹¤. (í•œêµ­ì˜ ê²½ìš°, Asia/Seoul)
> 



## LocalDateTime

<aside>
  
    ğŸŒŸ Local ë‹¨ì–´ ê·¸ëŒ€ë¡œ, ì§€ì—­ì— ëŒ€í•œ ì •ë³´ê°€ ì—†ëŠ” ì‹œê°„/ë‚ ì§œ APIì´ë‹¤.

</aside>

- ì˜ˆë¥¼ ë“¤ë©´ ìƒì¼, ê¸°ë…ì¼, ê°œì¸ ì¼ì • ë“± êµ­ê°€/ì§€ì—­ê³¼ ê´€ë ¨ì—†ëŠ” ì‹œê°„ì„ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•œë‹¤.

- `LocalDate`Â : ë‚ ì§œ ì •ë³´(ë…„, ì›”, ì¼)
- `LocalTime` : ì‹œê°„ ì •ë³´(ì‹œ, ë¶„, ì´ˆ)
- `LocalDateTime`Â : ì‹œê°„+ë‚ ì§œ ì •ë³´

ê°ì²´ ìƒì„±ì€ ë‹¤ìŒê³¼ ê°™ì´ í•œë‹¤.

```java
// now()
LocalDate date = LocalDate.now();
LocalTime time = LocalTime.now();
LocalDateTime loc = LocalDateTime.now(); //2022-06-13T10:30:20

// of()
LocalDate date = LocalDate.of(2010, 10, 04);
LocalTime time = LocalTime.of(23, 59, 59);
LocalDateTime.of(2016, 6, 13, 10, 20, 30); // 2016-6-13T10:20:30

// parse()
LocalDate date = LocalDate.parse("1992-12-04");
```

## OffsetDateTime

<aside>
  
    ğŸŒŸ LocalDateTime + ZoneOffsetê¹Œì§€ í¬í•¨í•œ APIì´ë‹¤.

</aside>

- íƒ€ì„ì¡´(ì‹œê°„ëŒ€)ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
- ex) `OffsetDateTime off = OffsetDateTime.now(); // 2016-6-13T10:20:30.000000+09:00`


## ZonedDateTime

<aside>
  
    ğŸŒŸ OffsetDateTime + ZoneIdê¹Œì§€ í¬í•¨í•œ APIì´ë‹¤.

</aside>

- íƒ€ì„ì¡´ë¿ë§Œ ì•„ë‹ˆë¼, ì§€ì—­ì •ë³´ë„ ê°€ì§€ë„ ìˆë‹¤.
- ì¦‰, `+09:00`ì™€ ì–´ë–¤ ì§€ì—­ì¸ì§€ ë¬¸ìì—´(`Asia/Seoul`)ë¡œ ì •ë³´ë¥¼ ê°€ì§„ë‹¤.
- ex) `ZonedDateTime zone = ZonedDateTime.now(); // 2016-6-13T10:20:30.000000+09:00[Asia/Seoul]`


## Instant

ì‚¬ëŒì—ê²ŒëŠ” `2016-6-13T10:20:30`ê°™ì€ í‘œê¸°ê°€ ì•Œì•„ë³´ê¸° í¸ë¦¬í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ ì»´í“¨í„° ì…ì¥ì—ì„œëŠ” ì´ë³´ë‹¤ í•˜ë‚˜ì˜ ìˆ˜ë¡œ í‘œí˜„í•˜ì—¬ ì—°ì‚°í•˜ëŠ” ê²Œ ë¹ ë¥´ë‹¤. InstantëŠ” ì£¼ë¡œ ë‘ ì‹œì  ê°„ì˜ ì°¨ì´ë¥¼ ì—°ì‚°í•  ë•Œ ì‚¬ìš©í•œë‹¤. `until()`ì€ ë‘ ì‹œì  ê°„ì˜ ì°¨ì´ë¥¼ ë°˜í™˜í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ìˆ«ì ìë£Œí˜•ìœ¼ë¡œ ì €ì¥ë˜ê¸°ì—, ë‹¤ë¥¸ ë‚ ì§œ í´ë˜ìŠ¤ë³´ë‹¤ ì—°ì‚°ì´ ë¹ ë¥´ë‹¤.

> **ìœ ë‹‰ìŠ¤ì‹œê°„ì´ë€ (Eporch ì‹œê°„)**
> 
>       UTC(1970ë…„ 1ì›” 1ì¼)ë¡œë¶€í„°ì˜ ê²½ê³¼ ì‹œê°„ì„ ì´ˆë¡œ í™˜ì‚°í•œ ê°’ì´ë‹¤.
>


```java
Instant instant1 = Instant.now();
Thread.sleep(1234);
Instant instant2 = Instant.now(); 

System.out.printf(instant1.until(instant2, ChronoUnit.NANOS)); // 1234000000
```


**Reference**

- [https://chowdera.com/2022/02/202202090314458713.html](https://chowdera.com/2022/02/202202090314458713.html)
- [https://umanking.github.io/2020/05/09/java-date-time/](https://umanking.github.io/2020/05/09/java-date-time/)
- [https://gngsn.tistory.com/167](https://gngsn.tistory.com/167)
- [https://perfectacle.github.io/2018/09/26/java8-date-time/](https://perfectacle.github.io/2018/09/26/java8-date-time/)
- [https://devlopsquare.tistory.com/248](https://devlopsquare.tistory.com/248)


[ìœ„ë¡œê°€ê¸°â¬†](#javatime-íŒ¨í‚¤ì§€-ì‚´í´ë³´ê¸°)


